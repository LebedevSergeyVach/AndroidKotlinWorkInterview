# inline-—Ñ—É–Ω–∫—Ü–∏–∏ –∏ value-–∫–ª–∞—Å—Å—ã
<a name="up"></a>

---

–î–≤–µ –º–æ—â–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ `Kotlin`: `inline`-—Ñ—É–Ω–∫—Ü–∏–∏ –∏ `value`-–∫–ª–∞—Å—Å—ã.
–û–Ω–∏ –ø–æ–º–æ–≥–∞—é—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Å–Ω–∏–∂–∞—Ç—å –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã.

#### [–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–∑—É—á–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª –∑–¥–µ—Å—å: habr.com - –ß—Ç–æ —Ç–∞–∫–æ–µ inline —Ñ—É–Ω–∫—Ü–∏–∏, –≤ —á–µ–º –∏—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ?](https://habr.com/ru/articles/736392/#–ß—Ç–æ%20—Ç–∞–∫–æ–µ%20inline%20—Ñ—É–Ω–∫—Ü–∏–∏,%20–≤%20—á–µ–º%20–∏—Ö%20–ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ?)

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç inline —Ñ—É–Ω–∫—Ü–∏–∏?

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (–ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏–π) –≤ `Kotlin` –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º –∑–∞—Ç—Ä–∞—Ç–∞–º –ø–∞–º—è—Ç–∏. 
–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏—è —Å–æ–∑–¥–∞–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç `FunctionN` (–≥–¥–µ `N` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏–∏),
–∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Å–∞–º–æ –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ –∏ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∑–∞—Ö–≤–∞—á–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.
–ü—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –º–µ—Ç–æ–¥–∞ —Ç–∞–∫–∂–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç `FunctionN`, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º –∑–∞—Ç—Ä–∞—Ç–∞–º –ø–∞–º—è—Ç–∏.

–ü–æ—ç—Ç–æ–º—É, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏–π –≤ —Ñ—É–Ω–∫—Ü–∏—é –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ (`inline`).
–ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `inline` –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ –º–µ—Å—Ç–æ –µ—ë –≤—ã–∑–æ–≤–∞, –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã —Ñ—É–Ω–∫—Ü–∏–π.
–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –º–æ–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å –∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –∏ —É–ª—É—á—à–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–ü—Ä–∏–º–µ—Ä —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ inline-—Ñ—É–Ω–∫—Ü–∏–π —Å –ª—è–º–±–¥–æ–π:**

```kotlin
inline fun functionName(parameter1: Type1, parameter2: Type2, ..., parameterN: TypeN, block: () -> Unit): ReturnType {
    // function body
}
```

–ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä `inline` –≤–ª–∏—è–µ—Ç –∏ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é, –∏ –Ω–∞ –ª—è–º–±–¥—É, –ø–µ—Ä–µ–¥–∞–Ω–Ω—É—é –µ–π: –æ–Ω–∏ –æ–±–µ –±—É–¥—É—Ç –≤—Å—Ç—Ä–æ–µ–Ω—ã –≤ –º–µ—Å—Ç–æ –≤—ã–∑–æ–≤–∞.

---

## Inline-—Ñ—É–Ω–∫—Ü–∏–∏ –≤ Kotlin

### 1. –ó–∞—á–µ–º –Ω—É–∂–Ω–æ inline?

**–ü—Ä–æ–±–ª–µ–º–∞:**

–õ—è–º–±–¥—ã –≤ `Kotlin` —Å–æ–∑–¥–∞—é—Ç –∞–Ω–æ–Ω–∏–º–Ω—ã–µ –∫–ª–∞—Å—Å—ã, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫:

 - –ù–∞–≥—Ä—É–∑–∫–µ –Ω–∞ `GC` (–ª–∏—à–Ω–∏–µ –æ–±—ä–µ–∫—Ç—ã).
 - –û–≤–µ—Ä—Ö–µ–¥—É –≤—ã–∑–æ–≤–∞ (–æ—Å–æ–±–µ–Ω–Ω–æ –≤ –≥–æ—Ä—è—á–∏—Ö —É—á–∞—Å—Ç–∫–∞—Ö –∫–æ–¥–∞).

**–†–µ—à–µ–Ω–∏–µ:**
`inline`-—Ñ—É–Ω–∫—Ü–∏–∏ –≤—Å—Ç—Ä–∞–∏–≤–∞—é—Ç –∫–æ–¥ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, –∏–∑–±–µ–≥–∞—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤.

### 2. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç inline?

```kotlin
inline fun measureTime(action: () -> Unit) {
    val start = System.currentTimeMillis()
    action()
    println("Time: ${System.currentTimeMillis() - start} ms")
}

// –ü—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –≤—ã–∑–æ–≤ –∑–∞–º–µ–Ω–∏—Ç—Å—è –Ω–∞:
val start = System.currentTimeMillis()
println("Hello!")  // –¢–µ–ª–æ –ª—è–º–±–¥—ã –≤—Å—Ç—Ä–æ–µ–Ω–æ –Ω–∞–ø—Ä—è–º—É—é
println("Time: ${System.currentTimeMillis() - start} ms")
```

### 3. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

 - –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å inline –¥–ª—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (–±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–µ –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ).
 - –ë–æ–ª—å—à–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç —Ä–∞–∑–º–µ—Ä –±–∏–Ω–∞—Ä–Ω–∏–∫–∞ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π).

### 4. noinline –∏ crossinline

 - **noinline** ‚Äî –æ—Ç–∫–ª—é—á–∞–µ—Ç –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ª—è–º–±–¥—ã:

–ï—Å–ª–∏ –∂–µ –≤—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ª—è–º–±–¥—ã, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ `inline`-—Ñ—É–Ω–∫—Ü–∏–∏, –Ω–µ –±—ã–ª–∏ –≤—Å—Ç—Ä–æ–µ–Ω—ã, —Ç–æ –æ—Ç–º–µ—Ç—å—Ç–µ –∏—Ö –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º `noinline`.

–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –Ω–∏–º–∏ –≤ —Ç–æ–º, —á—Ç–æ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è –ª—è–º–±–¥–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω–∞ —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ `inline`-—Ñ—É–Ω–∫—Ü–∏–∏, –ª–∏–±–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–¥–∞–Ω–∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞. 
–í —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ —Å `noinline`-—Ñ—É–Ω–∫—Ü–∏—è–º–∏ –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π: —Ö—Ä–∞–Ω–∏—Ç—å –≤–Ω—É—Ç—Ä–∏ –ø–æ–ª–µ–π, –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∫—É–¥–∞-–ª–∏–±–æ –∏ —Ç.–¥.

```kotlin
inline fun foo(noinline block: () -> Unit) { /* ... */ }

inline fun foo(inlined: () -> Unit, noinline notInlined: () -> Unit) {
    // ...
}
```

 - **crossinline** ‚Äî –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –ª—è–º–±–¥–∞ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç `return`:

`crossinline` ‚Äî –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ, –∫–æ—Ç–æ—Ä–æ–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è, —á—Ç–æ –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–µ–ª–æ–∫–∞–ª—å–Ω—ã—Ö `return`, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–æ –ø–µ—Ä–µ–¥–∞–Ω–æ –≤ `inline`-—Ñ—É–Ω–∫—Ü–∏—é.
–ö–æ–≥–¥–∞ –º—ã –ø–µ—Ä–µ–¥–∞–µ–º –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ñ—É–Ω–∫—Ü–∏—é –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞, –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä `return` –≤–Ω—É—Ç—Ä–∏ –ª—è–º–±–¥—ã, —á—Ç–æ–±—ã –≤—ã–π—Ç–∏ –∏–∑ —Ü–∏–∫–ª–∞ –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏, –≤ –∫–æ—Ç–æ—Ä–æ–π –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ª—è–º–±–¥–∞. 
–û–¥–Ω–∞–∫–æ, –µ—Å–ª–∏ –º—ã –ø–µ—Ä–µ–¥–∞–µ–º –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ –≤ `inline`-—Ñ—É–Ω–∫—Ü–∏—é, –∫–æ–¥ –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—Å—Ç–∞–≤–ª–µ–Ω –ø—Ä—è–º–æ –≤ –º–µ—Å—Ç–æ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏.
–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –≤ –ª—è–º–±–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–ø–µ—Ä–∞—Ç–æ—Ä `return`, —ç—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –≤—ã—Ö–æ–¥—É –∏–∑ –≤–Ω–µ—à–Ω–µ–π —Ñ—É–Ω–∫—Ü–∏–∏, —á—Ç–æ –Ω–µ –≤—Å–µ–≥–¥–∞ –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ.

```kotlin
inline fun runAsync(crossinline block: () -> Unit) {
    thread { block() }  // –ù–µ–ª—å–∑—è –≤—ã–π—Ç–∏ –∏–∑ –≤–Ω–µ—à–Ω–µ–π —Ñ—É–Ω–∫—Ü–∏–∏
}
```

### 5. –ü—Ä–∏–º–µ—Ä –∏–∑ Android

```kotlin
inline fun View.onClick(crossinline action: () -> Unit) {
    setOnClickListener { action() }  // –ò–∑–±–µ–≥–∞–µ–º —Å–æ–∑–¥–∞–Ω–∏—è –ª–∏—à–Ω–µ–≥–æ Listener
}
```

---

## Value-–∫–ª–∞—Å—Å—ã (@JvmInline value class)

### 1. –ó–∞—á–µ–º –Ω—É–∂–Ω–æ?

–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –æ–±—ë—Ä—Ç–æ–∫ –Ω–∞–¥ –ø—Ä–∏–º–∏—Ç–∏–≤–∞–º–∏/—Å—Ç—Ä–æ–∫–∞–º–∏, —á—Ç–æ–±—ã:

 - –ò–∑–±–µ–≥–∞—Ç—å –∞–ª–ª–æ–∫–∞—Ü–∏–π (–æ–±—ä–µ–∫—Ç –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏).
 - –°–æ—Ö—Ä–∞–Ω—è—Ç—å —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, `UserId` vs `Long`).

### 2. –°–∏–Ω—Ç–∞–∫—Å–∏—Å

```kotlin
@JvmInline
value class Password(val raw: String)  // –û–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ String

fun login(password: Password) { /* ... */ }

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
login(Password("123"))  // –¢–∏–ø –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
```

```kotlin
@JvmInline
value class UserId(val id: Int)

fun getUser(id: UserId) { /* ... */ }

// –ö–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –≤ Java –∫–∞–∫ –ø—Ä–∏–º–∏—Ç–∏–≤ `int`!
```

### 3. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

 - –û–¥–Ω–æ –ø–æ–ª–µ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ.
 - –ù–µ –º–æ–≥—É—Ç –±—ã—Ç—å `null` (–µ—Å–ª–∏ –Ω–µ –æ–±—ë—Ä–Ω—É—Ç—ã –≤ `Nullable`).
 - –¢–æ–ª—å–∫–æ `val` (–∏–∑–º–µ–Ω—è–µ–º—ã–µ `var` –∑–∞–ø—Ä–µ—â–µ–Ω—ã).

---

## 4. –ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º

**–ë–µ–∑ `value`-–∫–ª–∞—Å—Å–∞:**

```java
public final class UserId {
    private final int id;
    // –ì–µ—Ç—Ç–µ—Ä—ã, –∞–ª–ª–æ–∫–∞—Ü–∏–∏...
}
```

**–° `value`-–∫–ª–∞—Å—Å–æ–º:**

```java
public static final void getUser(int id) { /* ... */ }
```

---

## –ö–æ–º–±–æ: Inline + Value-–∫–ª–∞—Å—Å—ã

**–°—Ü–µ–Ω–∞—Ä–∏–π: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è API-–∫–ª–∏–µ–Ω—Ç–∞**

```kotlin
@JvmInline
value class ApiKey(val raw: String)

inline fun <reified T> getData(
    key: ApiKey,
    crossinline onSuccess: (T) -> Unit
) {
    // –í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥
    val data = parseJson<T>(fetchData(key))
    onSuccess(data)
}
```

**–ß—Ç–æ –¥–∞—ë—Ç:**
 - –ù–µ—Ç –∞–ª–ª–æ–∫–∞—Ü–∏–π –¥–ª—è ApiKey.
 - –ù–µ—Ç –æ–≤–µ—Ä—Ö–µ–¥–∞ –¥–ª—è –ª—è–º–±–¥—ã onSuccess.

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∞–Ω–∞–ª–æ–≥–∞–º–∏

| **–¢–µ—Ö–Ω–∏–∫–∞**        | **–ü–ª—é—Å—ã**             | **–ú–∏–Ω—É—Å—ã**                    |
|--------------------|-----------------------|-------------------------------|
| **inline-—Ñ—É–Ω–∫—Ü–∏–∏** | –£–±–∏—Ä–∞–µ—Ç –æ–≤–µ—Ä—Ö–µ–¥ –ª—è–º–±–¥ | –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –∫–æ–¥–∞       |
| **value-–∫–ª–∞—Å—Å—ã**   | –ò–∑–±–µ–≥–∞–µ—Ç –∞–ª–ª–æ–∫–∞—Ü–∏–π    | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å |
| **–û–±—ã—á–Ω—ã–µ –∫–ª–∞—Å—Å—ã** | –ü–æ–ª–Ω–∞—è —Å–≤–æ–±–æ–¥–∞        | –ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ `GC`              |

### –ö–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

- **`inline`**:
    - –ß–∞—Å—Ç–æ –≤—ã–∑—ã–≤–∞–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –ª—è–º–±–¥–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `map`, `filter`).
    - –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è `Android` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `View.onClick`).
- **`value class`**:
    - –û–±—ë—Ä—Ç–∫–∏ –Ω–∞–¥ –ø—Ä–∏–º–∏—Ç–∏–≤–∞–º–∏ (`UserId`, `Password`).
    - `DTO` –¥–ª—è `API` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `JsonToken`).

---

## **üöÄ –ü—Ä–∏–º–µ—Ä—ã –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –º–∏—Ä–∞**

### 1. Inline-—Ñ—É–Ω–∫—Ü–∏–∏ –≤ Kotlin Stdlib

```kotlin
inline fun <T, R> Iterable<T>.map(transform: (T) -> R): List<R> {
    val result = ArrayList<R>()
    for (item in this) result.add(transform(item))
    return result
}
```

### 2. Value-–∫–ª–∞—Å—Å—ã –≤ Android

```kotlin
@JvmInline
value class Px(val value: Int) {
    fun toDp(context: Context): Float = value / context.resources.displayMetrics.density
}
```

---

## –ò—Ç–æ–≥

- **`inline`** ‚Äî –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ª—è–º–±–¥.
- **`value class`** ‚Äî –¥–ª—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –±–µ–∑ –æ–≤–µ—Ä—Ö–µ–¥–∞.
- **–ö–æ–º–±–∏–Ω–∞—Ü–∏—è** ‚Äî –º–∞–∫—Å–∏–º—É–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —É—á–∞—Å—Ç–∫–∞—Ö.

**–≠—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω—ã –≤:**

- `Android` (`UI`, –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å).
- –í—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö.
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Kotlinx.Coroutines`).

---

#### [README](README.md) [UP](#up)
